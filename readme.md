# 一些问题

```
拿到数据的例子
{
  "data": [{
    "postId": "4892903564903218",
    "blogger": "武汉发布",
    "articelTime": "2023-04-21T02:02:58.000Z",
    "commentsCount": 2,
    "repostsCount": 0,
    "likeCount": 0,
    "picCount": 1,
    "articel": "声音宝马再道歉视频中老外是同事宝马称老外是同事各位的新老朋友们大家好首先要跟大家郑重道歉因为这次上海车展事件占用了公共资源对给大家带来的负面体验和心情我们再次深深地表示歉意中国发布声明来过车展的朋友们应该都知道车展现场温度一全文",
    "totalMark": "没有一个车媒敢报道欢迎讨论"
  }, {
    "postId": "4892888531734115",
    "blogger": "武汉发布",
    "articelTime": "2023-04-21T01:03:14.000Z",
    "commentsCount": 1,
    "repostsCount": 0,
    "likeCount": 1,
    "picCount": 1,
    "articel": "还要候补多少天五一抢票如何正确候补加速包能更快吗权威答案来了你会购买抢票软件的加速包吗五一假期准备出行的你抢到火车票了吗多家旅游平台数据显示五一火车票已经卖爆了有网友感慨今年五一抢火车票的难度堪比春运许多网友称抢票简直是门玄全文",
    "totalMark": "但是平台会给你捡漏包括专人抢还有其他坐席空了打电话通知你你就不用经常看"
  }]
}

```

包括二级回复  

## 系统架构部分：  

### 爬虫和数据处理，单独作为项目进入数据库  

使用node爬取数据，~~前端设置爬取界面和爬取开关~~，通过输入截止时间（拟定为按照月份分割，最少一个月）和博主id，进行数据加载  
（使用爬虫爬取大量数据入库，设定四月末为节点，之前提前爬取二年，之后设置定时爬取任务，每次爬取一周的加上去）  
调用python脚本对爬取内容进行数据处理后生成新的数据库  
进行主题标注（预先训练），情感极性判断（使用库函数），发布策略（手动标注）

回帖按贴聚合，按照时间对回帖进行排序
lda模型先总体跑一下

### 业务逻辑

前端给出时间选择，微博账号选择？等等。。。的输入口  
一级菜单：选取城市，二级菜单，选取城市对应账号，然后后端反数据    
以上两部分作为ipa模型的数据来源，通过标化等方式输出为向量，给出接口，让前端进行展示

数据获取，城市形象因素lda建模。。。识别情感，城市形象分析评价，展示（静动态ipa，/单独对比）  
不一定是三维图，分时间段二维也可以，图标，文字（指标变化）

是否按照城市分类？ 还是按照账号分类（把同城市账号加总，是否会影响） 
是的，城市加总（城市评价阶段）

### 数据处理部分：  

有关于所有评论放在一个词袋里面，
~~是否需要记录评论人的信息，名字等 的重要程度和评论时间的记录~~  
是否做好评论时间的区分，应该不需要研究较近时间对较远时间的影响，字数做个限制，  
按月全抓回来之后进行聚合  
评论时间怎么与主贴分开？因为评论都太小了，上次爬了就没用(直接没爬)  
这次从源头爬是否需要记录这些信息，  
~~按照天？~~  




### 数分理论部分：


3.1 城市形象要素识别（提取）：主题识别/情感识别  
3.2 城市形象要素评价：通过ipa？ 
评价体系具体应该怎么做？  

*如何体现~~交互~~与时间序列？*


先跑一个demo看怎么聚合


评论加总的方法：按照五天或者。。某天。加总，五天之后的按照另一帖计算
不考虑新增